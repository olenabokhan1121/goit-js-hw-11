{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nexport const createGalleryCardTemplate = imgInfo => {\n \n  return `\n    <li class=\"gallery-card\"><a href=\"${imgInfo.largeImageURL}\">\n      <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" title=\"\"/></a>\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b> ${imgInfo.likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b> ${imgInfo.views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b> ${imgInfo.comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b> ${imgInfo.downloads}\n        </p>\n      </div>\n    </li>\n  `;\n};\n\n\n","export const fetchPhotosByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n   \n      key: '48293498-9bc96457b3129dac42cff7415',\n      q: searchedQuery,\nimage_type: 'photo',\norientation: 'horizontal',\n      safesearch: 'true',\nper_page: 9,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};","import { createGalleryCardTemplate } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nconst loaderEl = document.querySelector('.loader');\n\nconst showLoader = () => {\n  loaderEl.style.display = 'block';\n};\n\nconst  hideLoader = () => {\n  loaderEl.style.display = 'none';\n};\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    showLoader();\n    const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n    if (searchedQuery === '') {\n        hideLoader();\n        iziToast.show({\n            backgroundColor: '#ef4040',\n            messageColor: '#fff',\n            message: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#FFFFFF\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM17 15.74L15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12 17 15.74z\"/></svg> Поле має бути заповнено!',\n            close: 'true',\n            \n\n        });\n\n        return;\n    }\n\n    fetchPhotosByQuery(searchedQuery)\n        .then(data => {\n            if (data.total === 0) {\n                hideLoader();\n                iziToast.show({\n                    backgroundColor: '#ef4040',\n                    messageColor: '#fff',\n                    message: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" ><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM17 15.74L15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12 17 15.74z\"/></svg>  Sorry, there are no images matching your search query. Please try again!',\n                    close: 'true',\n\n                    iconColor: '#fff',\n                });\n        \n\n                galleryEl.innerHTML = '';\n                searchFormEl.reset();\n       \n\n                return;\n            }\n        \n            galleryEl.innerHTML = '';\n            const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\nhideLoader();\n            galleryEl.innerHTML = galleryTemplate;\n            lightbox.refresh();\n            searchFormEl.reset();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","searchParams","response","loaderEl","showLoader","hideLoader","searchFormEl","galleryEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","err"],"mappings":"6vBACO,MAAMA,EAA4BC,GAEhC;AAAA,wCAC+BA,EAAQ,aAAa;AAAA,sCACvBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,yBAGvDA,EAAQ,KAAK;AAAA;AAAA;AAAA,yBAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,4BAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,6BAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,ICjBjCC,EAAqBC,GAAiB,CACjD,MAAMC,EAAe,IAAI,gBAAgB,CAErC,IAAK,qCACL,EAAGD,EACT,WAAY,QACZ,YAAa,aACP,WAAY,OAClB,SAAU,CACV,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECZMC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAa,IAAM,CACvBD,EAAS,MAAM,QAAU,OAC3B,EAEOE,EAAa,IAAM,CACxBF,EAAS,MAAM,QAAU,MAC3B,EAGMG,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,IAAIC,EAAe,YAAY,EAE1CC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EACpBP,IACA,MAAMJ,EAAgBW,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpE,GAAIX,IAAkB,GAAI,CACtBK,IACAO,EAAS,KAAK,CACV,gBAAiB,UACjB,aAAc,OACd,QAAS,oWACT,MAAO,MAGnB,CAAS,EAED,MACH,CAEDb,EAAmBC,CAAa,EAC3B,KAAKa,GAAQ,CACV,GAAIA,EAAK,QAAU,EAAG,CAClBR,IACAO,EAAS,KAAK,CACV,gBAAiB,UACjB,aAAc,OACd,QAAS,uYACT,MAAO,OAEP,UAAW,MAC/B,CAAiB,EAGDL,EAAU,UAAY,GACtBD,EAAa,MAAK,EAGlB,MACH,CAEDC,EAAU,UAAY,GACtB,MAAMO,EAAkBD,EAAK,KAAK,IAAIE,GAAMlB,EAA0BkB,CAAE,CAAC,EAAE,KAAK,EAAE,EAC9FV,IACYE,EAAU,UAAYO,EACtBN,EAAS,QAAO,EAChBF,EAAa,MAAK,CAC9B,CAAS,EACA,MAAMU,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,CACT,EAEAV,EAAa,iBAAiB,SAAUI,CAAkB"}